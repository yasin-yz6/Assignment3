2025-07-20 07:07:30.166 +03:00 [INF] User profile is available. Using 'C:\Users\ymbaz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-20 07:07:31.529 +03:00 [INF] Now listening on: https://localhost:7121
2025-07-20 07:07:31.530 +03:00 [INF] Now listening on: http://localhost:5047
2025-07-20 07:07:31.752 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-20 07:07:31.753 +03:00 [INF] Hosting environment: Development
2025-07-20 07:07:31.754 +03:00 [INF] Content root path: C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api
2025-07-20 07:07:32.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 07:07:32.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 07:07:32.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 62.0843ms
2025-07-20 07:07:32.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 173.6878ms
2025-07-20 07:07:33.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 07:07:33.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.6796ms
2025-07-20 07:07:48.562 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 63
2025-07-20 07:07:48.705 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 07:07:48.736 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 07:07:48.793 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-20 07:07:48.818 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 76.1572ms
2025-07-20 07:07:48.818 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 07:07:48.819 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 400 null application/problem+json; charset=utf-8 256.8011ms
2025-07-20 08:24:23.475 +03:00 [INF] User profile is available. Using 'C:\Users\ymbaz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-20 08:24:23.880 +03:00 [INF] Now listening on: https://localhost:7121
2025-07-20 08:24:23.880 +03:00 [INF] Now listening on: http://localhost:5047
2025-07-20 08:24:25.275 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-20 08:24:25.275 +03:00 [INF] Hosting environment: Development
2025-07-20 08:24:25.275 +03:00 [INF] Content root path: C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api
2025-07-20 08:24:27.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 08:24:27.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 08:24:27.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 94.0091ms
2025-07-20 08:24:27.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 175.9201ms
2025-07-20 08:24:28.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 08:24:28.243 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.6149ms
2025-07-20 08:24:38.172 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 64
2025-07-20 08:24:38.312 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:24:38.345 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:24:40.366 +03:00 [INF] Executed DbCommand (126ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:24:40.527 +03:00 [ERR] One or more business validations error occurred
University.Core.Exceptions.BusinessException: Invalid Login attemp
   at University.Core.Services.AuthService.Login(LoginForm form) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\AuthService.cs:line 92
   at University.Api.Controllers.AuthController.Login(LoginForm form) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api\Controllers\AuthController.cs:line 42
   at lambda_method472(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-20 08:24:40.579 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:24:40.595 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 2246.2314ms
2025-07-20 08:24:40.595 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:24:40.601 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 400 null application/json; charset=utf-8 2430.3794ms
2025-07-20 08:25:14.765 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/register - application/json 125
2025-07-20 08:25:14.806 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:25:14.810 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Register(University.Core.Forms.RegisterForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:25:14.880 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-20 08:25:14.964 +03:00 [ERR] One or more business validations error occurred
University.Core.Exceptions.BusinessException: Exception of type 'University.Core.Exceptions.BusinessException' was thrown.
   at University.Core.Services.AuthService.Register(RegisterForm form) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\AuthService.cs:line 43
   at University.Api.Controllers.AuthController.Register(RegisterForm form) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api\Controllers\AuthController.cs:line 29
   at lambda_method522(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-20 08:25:14.965 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:25:14.980 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Register (University.Api) in 169.3378ms
2025-07-20 08:25:14.980 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:25:14.981 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/register - 400 null application/json; charset=utf-8 216.42ms
2025-07-20 08:25:57.213 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/register - application/json 126
2025-07-20 08:25:57.221 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:25:57.222 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Register(University.Core.Forms.RegisterForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:25:57.243 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-20 08:25:57.357 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:25:57.543 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-20 08:25:57.586 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:25:57.590 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:25:57.609 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Roles] ([ConcurrencyStamp], [Name], [NormalizedName])
OUTPUT INSERTED.[RoleId]
VALUES (@p0, @p1, @p2);
2025-07-20 08:25:57.662 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-20 08:25:57.707 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-20 08:25:57.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-20 08:25:57.729 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:25:57.787 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [UserId] = @p18;
2025-07-20 08:25:57.796 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:25:57.797 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Register (University.Api) in 575.5647ms
2025-07-20 08:25:57.797 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:25:57.797 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/register - 200 null application/json; charset=utf-8 584.9201ms
2025-07-20 08:26:24.038 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 64
2025-07-20 08:26:24.044 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:26:24.047 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:26:33.658 +03:00 [INF] Executed DbCommand (9,605ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:26:33.798 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:26:33.932 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[RoleId]
WHERE [u].[UserId] = @__userId_0
2025-07-20 08:26:33.952 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:26:33.984 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2025-07-20 08:26:34.009 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-20 08:26:38.515 +03:00 [INF] Executed DbCommand (4,505ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:26:38.571 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:26:38.571 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 14520.6199ms
2025-07-20 08:26:38.572 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:26:38.572 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 200 null application/json; charset=utf-8 14533.556ms
2025-07-20 08:27:17.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Students/1 - null null
2025-07-20 08:27:17.720 +03:00 [INF] Executing endpoint 'University.Api.Controllers.StudentsController.GetById (University.Api)'
2025-07-20 08:27:17.722 +03:00 [INF] Route matched with {action = "GetById", controller = "Students"}. Executing controller action with signature AutoWrapper.Wrappers.ApiResponse GetById(Int32) on controller University.Api.Controllers.StudentsController (University.Api).
2025-07-20 08:27:18.636 +03:00 [INF] Executed DbCommand (898ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[Email], [s].[Name]
FROM [Student] AS [s]
WHERE [s].[Id] = @__p_0
2025-07-20 08:27:32.748 +03:00 [ERR] Item not found
University.Core.Exceptions.NotFoundException: Unable to find student
   at University.Core.Services.StudentService.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\StudentService.cs:line 67
   at University.Api.Controllers.StudentsController.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api\Controllers\StudentsController.cs:line 34
   at lambda_method787(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-20 08:27:32.749 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:27:32.749 +03:00 [INF] Executed action University.Api.Controllers.StudentsController.GetById (University.Api) in 15027.2688ms
2025-07-20 08:27:32.749 +03:00 [INF] Executed endpoint 'University.Api.Controllers.StudentsController.GetById (University.Api)'
2025-07-20 08:27:32.750 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Students/1 - 404 null application/json; charset=utf-8 15099.3761ms
2025-07-20 08:30:53.511 +03:00 [INF] User profile is available. Using 'C:\Users\ymbaz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-20 08:30:53.887 +03:00 [INF] Now listening on: https://localhost:7121
2025-07-20 08:30:53.888 +03:00 [INF] Now listening on: http://localhost:5047
2025-07-20 08:30:54.132 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-20 08:30:54.133 +03:00 [INF] Hosting environment: Development
2025-07-20 08:30:54.133 +03:00 [INF] Content root path: C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api
2025-07-20 08:30:55.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 08:30:55.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 08:30:55.557 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 51.1172ms
2025-07-20 08:30:55.659 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.2074ms
2025-07-20 08:30:55.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 08:30:55.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.4465ms
2025-07-20 08:31:25.625 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 64
2025-07-20 08:31:25.755 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:31:25.788 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:31:34.787 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:31:35.032 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:31:35.069 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[RoleId]
WHERE [u].[UserId] = @__userId_0
2025-07-20 08:31:35.076 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:31:35.090 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2025-07-20 08:31:35.108 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-20 08:31:35.115 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:31:35.148 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:31:35.165 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 9371.7797ms
2025-07-20 08:31:35.166 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:31:35.173 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 200 null application/json; charset=utf-8 9548.4633ms
2025-07-20 08:31:45.354 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Courses/5 - null null
2025-07-20 08:31:45.370 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Teacher)
2025-07-20 08:31:45.372 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-20 08:31:45.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Courses/5 - 401 0 null 19.0794ms
2025-07-20 08:37:03.476 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/register - application/json 127
2025-07-20 08:37:03.486 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:37:03.490 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Register(University.Core.Forms.RegisterForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:37:03.556 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-20 08:37:03.628 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:37:03.730 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-20 08:37:03.755 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:37:03.765 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-20 08:37:03.799 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[RoleId]
FROM [UserRoles] AS [u]
WHERE [u].[UserId] = @__p_0 AND [u].[RoleId] = @__p_1
2025-07-20 08:37:03.802 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedRoleName_0
2025-07-20 08:37:03.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:37:03.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p18='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [Users] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [UserId] = @p18;
2025-07-20 08:37:03.853 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:37:03.854 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Register (University.Api) in 364.0913ms
2025-07-20 08:37:03.855 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Register (University.Api)'
2025-07-20 08:37:03.855 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/register - 200 null application/json; charset=utf-8 382.1153ms
2025-07-20 08:37:14.228 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 65
2025-07-20 08:37:14.230 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:37:14.232 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:37:14.251 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:37:14.319 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:37:14.322 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[RoleId]
WHERE [u].[UserId] = @__userId_0
2025-07-20 08:37:14.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:37:14.327 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2025-07-20 08:37:14.328 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-20 08:37:14.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:37:14.330 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:37:14.331 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 98.3235ms
2025-07-20 08:37:14.331 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:37:14.331 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 200 null application/json; charset=utf-8 102.4534ms
2025-07-20 08:37:17.376 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Courses/5 - null null
2025-07-20 08:37:17.377 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Teacher)
2025-07-20 08:37:17.378 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-20 08:37:17.378 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Courses/5 - 401 0 null 1.862ms
2025-07-20 08:38:12.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Courses/5 - null null
2025-07-20 08:38:12.133 +03:00 [INF] Executing endpoint 'University.Api.Controllers.CoursesController.GetById (University.Api)'
2025-07-20 08:38:12.136 +03:00 [INF] Route matched with {action = "GetById", controller = "Courses"}. Executing controller action with signature AutoWrapper.Wrappers.ApiResponse GetById(Int32) on controller University.Api.Controllers.CoursesController (University.Api).
2025-07-20 08:38:12.169 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CourseName], [c].[TeacherName]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__p_0
2025-07-20 08:38:26.490 +03:00 [ERR] Item not found
University.Core.Exceptions.NotFoundException: Unable to find course
   at University.Core.Services.CourseService.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\CourseService.cs:line 63
   at University.Api.Controllers.CoursesController.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api\Controllers\CoursesController.cs:line 31
   at lambda_method781(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-20 08:38:26.534 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:38:26.535 +03:00 [INF] Executed action University.Api.Controllers.CoursesController.GetById (University.Api) in 14398.9299ms
2025-07-20 08:38:26.535 +03:00 [INF] Executed endpoint 'University.Api.Controllers.CoursesController.GetById (University.Api)'
2025-07-20 08:38:26.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Courses/5 - 404 null application/json; charset=utf-8 14478.2205ms
2025-07-20 08:39:01.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/index.html - null null
2025-07-20 08:39:01.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/index.html - 200 null text/html;charset=utf-8 176.9378ms
2025-07-20 08:39:01.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 08:39:01.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 3.8159ms
2025-07-20 08:39:01.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 08:39:01.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.7109ms
2025-07-20 08:39:02.107 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 08:39:02.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.8383ms
2025-07-20 08:39:23.680 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 65
2025-07-20 08:39:23.681 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:39:23.687 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:39:35.720 +03:00 [INF] Executed DbCommand (12,028ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:40:10.827 +03:00 [ERR] Failed executing DbCommand (35,022ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:40:10.842 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'University.Data.Contexts.UniversityDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7f35f934-3753-4347-9a54-26ed36f7a8f0
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:7f35f934-3753-4347-9a54-26ed36f7a8f0
Error Number:-2,State:0,Class:11
2025-07-20 08:40:10.986 +03:00 [ERR] Unhandled exception occurred
Microsoft.Data.SqlClient.SqlException (0x80131904): Execution Timeout Expired.  The timeout period elapsed prior to completion of the operation or the server is not responding.
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.GetClaimsAsync(TUser user, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.GetClaimsAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`1.GenerateClaimsAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`2.GenerateClaimsAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserClaimsPrincipalFactory`1.CreateAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.CreateUserPrincipalAsync(TUser user)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInWithClaimsAsync(TUser user, AuthenticationProperties authenticationProperties, IEnumerable`1 additionalClaims)
   at Microsoft.AspNetCore.Identity.SignInManager`1.SignInOrTwoFactorAsync(TUser user, Boolean isPersistent, String loginProvider, Boolean bypassTwoFactor)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(TUser user, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at Microsoft.AspNetCore.Identity.SignInManager`1.PasswordSignInAsync(String userName, String password, Boolean isPersistent, Boolean lockoutOnFailure)
   at University.Core.Services.AuthService.Login(LoginForm form) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\AuthService.cs:line 70
   at University.Api.Controllers.AuthController.Login(LoginForm form)
   at lambda_method790(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
ClientConnectionId:7f35f934-3753-4347-9a54-26ed36f7a8f0
Error Number:-2,State:0,Class:11
2025-07-20 08:40:10.992 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:40:11.008 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 47320.468ms
2025-07-20 08:40:11.008 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:40:11.008 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 500 null application/json; charset=utf-8 47328.6749ms
2025-07-20 08:40:17.452 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 65
2025-07-20 08:40:17.454 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:40:17.454 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:40:17.712 +03:00 [INF] Executed DbCommand (235ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:40:19.920 +03:00 [INF] Executed DbCommand (2,126ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:40:31.046 +03:00 [INF] User profile is available. Using 'C:\Users\ymbaz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-20 08:40:31.386 +03:00 [INF] Now listening on: https://localhost:7121
2025-07-20 08:40:31.386 +03:00 [INF] Now listening on: http://localhost:5047
2025-07-20 08:40:31.480 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-20 08:40:31.481 +03:00 [INF] Hosting environment: Development
2025-07-20 08:40:31.482 +03:00 [INF] Content root path: C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api
2025-07-20 08:40:32.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 08:40:32.307 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 08:40:32.360 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 66.9988ms
2025-07-20 08:40:32.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.5952ms
2025-07-20 08:40:32.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 08:40:33.234 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 738.3858ms
2025-07-20 08:40:50.624 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7121/api/Auth/Login - application/json 65
2025-07-20 08:40:50.764 +03:00 [INF] Executing endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:40:50.789 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[AutoWrapper.Wrappers.ApiResponse] Login(University.Core.Forms.LoginForm) on controller University.Api.Controllers.AuthController (University.Api).
2025-07-20 08:40:54.972 +03:00 [INF] Executed DbCommand (1,764ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:40:55.157 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserClaimId], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0
2025-07-20 08:40:55.183 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[RoleId]
WHERE [u].[UserId] = @__userId_0
2025-07-20 08:40:55.190 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RoleId], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-20 08:40:55.203 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[ClaimType], [r].[ClaimValue]
FROM [RoleClaims] AS [r]
WHERE [r].[RoleId] = @__role_Id_0
2025-07-20 08:40:55.218 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-07-20 08:40:55.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-07-20 08:40:55.255 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:40:55.271 +03:00 [INF] Executed action University.Api.Controllers.AuthController.Login (University.Api) in 4479.1317ms
2025-07-20 08:40:55.272 +03:00 [INF] Executed endpoint 'University.Api.Controllers.AuthController.Login (University.Api)'
2025-07-20 08:40:55.280 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7121/api/Auth/Login - 200 null application/json; charset=utf-8 4655.8723ms
2025-07-20 08:41:26.918 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Courses/404 - null null
2025-07-20 08:41:27.003 +03:00 [INF] Executing endpoint 'University.Api.Controllers.CoursesController.GetById (University.Api)'
2025-07-20 08:41:27.006 +03:00 [INF] Route matched with {action = "GetById", controller = "Courses"}. Executing controller action with signature AutoWrapper.Wrappers.ApiResponse GetById(Int32) on controller University.Api.Controllers.CoursesController (University.Api).
2025-07-20 08:41:27.095 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CourseName], [c].[TeacherName]
FROM [Courses] AS [c]
WHERE [c].[Id] = @__p_0
2025-07-20 08:41:30.775 +03:00 [ERR] Item not found
University.Core.Exceptions.NotFoundException: Unable to find course
   at University.Core.Services.CourseService.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Core\Services\CourseService.cs:line 63
   at University.Api.Controllers.CoursesController.GetById(Int32 id) in C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api\Controllers\CoursesController.cs:line 31
   at lambda_method651(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextExceptionFilterAsync>g__Awaited|26_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
2025-07-20 08:41:30.819 +03:00 [INF] Executing ObjectResult, writing value of type 'AutoWrapper.Wrappers.ApiResponse'.
2025-07-20 08:41:30.820 +03:00 [INF] Executed action University.Api.Controllers.CoursesController.GetById (University.Api) in 3813.9295ms
2025-07-20 08:41:30.820 +03:00 [INF] Executed endpoint 'University.Api.Controllers.CoursesController.GetById (University.Api)'
2025-07-20 08:41:30.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Courses/404 - 404 null application/json; charset=utf-8 3902.8892ms
2025-07-20 08:41:39.365 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/api/Courses - null null
2025-07-20 08:41:39.370 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ss)
2025-07-20 08:41:39.373 +03:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-20 08:41:39.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/api/Courses - 403 0 null 9.4453ms
2025-07-20 08:42:29.158 +03:00 [INF] User profile is available. Using 'C:\Users\ymbaz\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-20 08:42:29.450 +03:00 [INF] Now listening on: https://localhost:7121
2025-07-20 08:42:29.451 +03:00 [INF] Now listening on: http://localhost:5047
2025-07-20 08:42:29.540 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-20 08:42:29.541 +03:00 [INF] Hosting environment: Development
2025-07-20 08:42:29.542 +03:00 [INF] Content root path: C:\Users\ymbaz\OneDrive\Desktop\Code\C#\UniversitySystem\University.Api
2025-07-20 08:42:30.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - null null
2025-07-20 08:42:30.538 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/_vs/browserLink - null null
2025-07-20 08:42:30.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_framework/aspnetcore-browser-refresh.js - 200 13764 application/javascript; charset=utf-8 68.1627ms
2025-07-20 08:42:30.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.6134ms
2025-07-20 08:42:30.706 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - null null
2025-07-20 08:42:30.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7121/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.6721ms
